{"meta":{"title":"CodeBeast","subtitle":null,"description":null,"author":"lxzan","url":"http:"},"pages":[{"title":"About","date":"2016-05-22T08:39:23.237Z","updated":"2016-05-22T08:39:23.237Z","comments":true,"path":"about/index.html","permalink":"http:/about/index.html","excerpt":"","keywords":null,"text":"The blog theme you may fall in love with, coming to Hexo. Preview InstallationInstall1$ git clone https://github.com/ppoffice/hexo-theme-icarus.git themes/icarus Icarus requires Hexo 3.0 and above. Enable Rename themes\\icarus\\_config.yml.example to themes\\icarus\\_config.yml; Copy themes\\icarus\\_config.yml.site.example to your hexo blog’s root directory and rename it to _config.yml; Copy themes\\icarus\\_source\\* into your hexo blog’s directory source; Then modify theme setting in _config.yml to icarus. Update12cd themes/icarusgit pull ConfigurationTheme configuration example1234567891011121314151617181920212223242526272829303132333435363738394041# Headermenu: Home: . Archives: archives Categories: categories # you need to add extra page to enable this, please see the config below. Tags: tags # you need to add extra page to enable this, please see the config below. About: about# Contentexcerpt_link: Read Morefancybox: true# Sidebarsidebar: rightwidgets:- recent_posts- category- tag- tagcloud- archivethumbnail: true# Contactscontacts: github: http://github.com/ppoffice/hexo-theme-icarus twitter: '#' facebook: '#' dribbble: '#' rss: atom.xml# Linkslinks: Hexo: http://hexo.io# Miscellaneousgoogle_analytics:favicon: favicon.pngtwitter:google_plus:fb_admins:fb_app_id: excerpt_link - Cooperate with &lt;!-- more --&gt; tag to show only part of the article in index pages. fancybox - Enable Fancybox. contacts - Your social network links, RSS link, etc. widgets - Widgets displaying in sidebar. thumbnail - Whether to show post thumbnails in the sidebar and archive pages. links - Links displayed in the link widget. google_analytics - Google Analytics ID. favicon - Favicon path. Site configuration example123456789101112131415# Sitetitle: Icarussubtitle:description: Hexo theme - Icarusauthor: PPOfficeauthor_title: 'Web Developer &amp; Designer'avatar: css/images/avatar.pnglocation: 'Harbin, China'language: entimezone:...# Disqusdisqus_shortname: author - Your name. author_title - Title to your occupation. avatar - Your avatar image link. location - Where you live in. disqus_shortname - Your Disqus shortname. Post Thumbnail &amp; BannerYou can add a thumbnail and a banner to each post by adding the following lines into your post source files’ front-matter:123456title: Demodate: 2015-01-01...# add thosethumbnail: http://example.com/thumbnail.jpgbanner: http://example.com/banner.jpg Custom Categories &amp; Tags PagesTo enable custom categories page and tags page, just copy the categories folder and tags folder under your theme’s _source foler into your site’s source folder. Then edit theme’s _config.yml and add the following lines:123456# Headermenu: ... Categories: categories # -&gt; add this line Tags: tags # -&gt; and add this line ... LanguagesEnglish and Simplified Chinese are the default languages of the theme. You can add translations in the languages folder and change the default language in blog’s _config.yml. 1language: zh-CN FeaturesProfile SidebarA nice place to show yourself. You can add your own information in your site’s _config.yml Post Banner &amp; ThumbnailThanks to atika, you can now add thumbnails and banners to every post to create better reading experience. Responsive LayoutIcarus knows on what screen size you are browsering the website, and reorganize the layout to fit your device. Custom Categories &amp; Tags PagesGet your categories and tags listed in single pages to make your blog more methodic. FancyboxIcarus uses Fancybox to showcase your photos. You can use Markdown syntax or fancybox tag plugin to add your photos. 1![img caption](img url) SidebarIcarus provides 6 built-in widgets: recent_posts category archives tag tagcloud links All of them are enabled by default. You can edit them in widget setting. DevelopmentRequirements Grunt 0.4+ Hexo 3.0+ Grunt tasks default - Download Fancybox and Font Awesome. fontawesome - Only download Font Awesome. fancybox - Only download Fancybox. clean - Clean temporarily files and downloaded files.","raw":null,"content":null},{"title":"Tags","date":"2016-05-22T08:22:02.273Z","updated":"2016-05-22T08:22:02.269Z","comments":true,"path":"tags/index.html","permalink":"http:/tags/index.html","excerpt":"","keywords":null,"text":"","raw":null,"content":null},{"title":"Categories","date":"2016-05-22T08:22:02.277Z","updated":"2016-05-22T08:22:02.273Z","comments":true,"path":"categories/index.html","permalink":"http:/categories/index.html","excerpt":"","keywords":null,"text":"","raw":null,"content":null}],"posts":[{"title":"Laravel中间件","slug":"Laravel中间件","date":"2016-05-27T08:37:15.000Z","updated":"2016-05-27T09:26:25.057Z","comments":true,"path":"2016/05/27/Laravel中间件/","link":"","permalink":"http:/2016/05/27/Laravel中间件/","excerpt":"","keywords":null,"text":"什么是中间件Laravel中间件是触发路由事件之前或之后执行的一段代码。中间件常用于用户身份识别，CSRF保护。用户触发路由事件的时候，经常需要判断一下用户的身份，这时候就可以使用中间件了。Laravel中间件存放于app/Http/Middleware。 新建一个中间件在Laravel项目根目录执行php artisan make:middleware AuthAdminMiddleware就在app/Http/Middleware位置生成了AuthAdminMiddleware.php文件，然后添加逻辑代码AuthAdminMiddleware.php123456789101112131415161718192021&lt;?phpnamespace App\\Http\\Middleware;use Closure;class AuthAdminMiddleware&#123; /** * Handle an incoming request. * * @param \\Illuminate\\Http\\Request $request * @param \\Closure $next * @return mixed */ public function handle($request, Closure $next) &#123; if( $request-&gt;user()['role'] != 'admin' ) return redirect('/'); return $next($request); &#125;&#125; 这是一个用于后台的中间件，若用户身份不为管理员，则重定向到首页 注册中间件新建中间件后必须注册才能使用。编辑app/Http/Kernel.php，在$routeMiddleware数组里面添加一行&#39;admin&#39; =&gt; AuthAdmin::class使用PhpStorm会自动补全命名空间Kernel.php123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354&lt;?phpnamespace App\\Http;use App\\Http\\Middleware\\AuthAdmin;use Illuminate\\Foundation\\Http\\Kernel as HttpKernel;class Kernel extends HttpKernel&#123; /** * The application's global HTTP middleware stack. * * These middleware are run during every request to your application. * * @var array */ protected $middleware = [ \\Illuminate\\Foundation\\Http\\Middleware\\CheckForMaintenanceMode::class, ]; /** * The application's route middleware groups. * * @var array */ protected $middlewareGroups = [ 'web' =&gt; [ \\App\\Http\\Middleware\\EncryptCookies::class, \\Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse::class, \\Illuminate\\Session\\Middleware\\StartSession::class, \\Illuminate\\View\\Middleware\\ShareErrorsFromSession::class, \\App\\Http\\Middleware\\VerifyCsrfToken::class, ], 'api' =&gt; [ 'throttle:60,1', ], ]; /** * The application's route middleware. * * These middleware may be assigned to groups or used individually. * * @var array */ protected $routeMiddleware = [ 'auth' =&gt; \\App\\Http\\Middleware\\Authenticate::class, 'auth.basic' =&gt; \\Illuminate\\Auth\\Middleware\\AuthenticateWithBasicAuth::class, 'guest' =&gt; \\App\\Http\\Middleware\\RedirectIfAuthenticated::class, 'throttle' =&gt; \\Illuminate\\Routing\\Middleware\\ThrottleRequests::class, 'admin' =&gt; AuthAdmin::class ];&#125; 使用中间件编辑app/Http/routes.php，添加123456Route::group([ 'prefix' =&gt; 'admin', 'middleware' =&gt; ['web', 'auth', 'admin']], function () &#123; require (__DIR__ . '/Routes/AdminRoute.php');&#125;); prefix是路由前缀，middleware为这个路由分组里面使用的中间件 当路由较多时，可以使用require导入路由文件 app/Http/Routes/AdminRoute.php12345&lt;?phpRoute::get('/', [ 'as' =&gt; 'admin.index', 'uses' =&gt; 'AdminController@index']);","raw":null,"content":null,"categories":[{"name":"Laravel","slug":"Laravel","permalink":"http:/categories/Laravel/"}],"tags":[{"name":"中间件","slug":"中间件","permalink":"http:/tags/中间件/"}]}]}